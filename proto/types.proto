syntax = "proto3";

package pbuf;

option go_package = "alat/pkg/core/pbuf";

message Service {
  string name = 1;
  bool enabled = 2;
}

message DeviceColor {
  uint32 r = 1;
  uint32 g = 2;
  uint32 b = 3;
}
enum DeviceType {
  DESKTOP = 0;
  MOBILE = 1;
  TV = 2;
  WEB = 3;
}
message DeviceInfo {
  string code = 1;
  string name = 2;

  DeviceType type = 3;
  DeviceColor color = 4;
  repeated Service services = 5;

  string ip = 6;
  uint32 port = 7;
}

message HostInfoStat {
  string hostname = 1;
  uint64 uptime = 2;
  uint64 boot_time = 3;
  uint64 procs = 4;
  string os = 5;
  string platform = 6;
  string platform_family = 7;
  string platform_version = 8;
  string kernel_version = 9;
  string kernel_arch = 10;
  string virtualization_system = 11;
  string virtualization_role = 12;
  string host_id = 13;
}

message CPUInfoStat {
  int32 cpu = 1;
  string vendor_id = 2;
  string family = 3;
  string model = 4;
  int32 stepping = 5;
  string physical_id = 6;
  string core_id = 7;
  int32 cores = 8;
  string model_name = 9;
  double mhz = 10;
  int64 cache_size = 11;
  repeated string flags = 12;
}

message VirtualMemoryStat {
  uint64 total = 1;
  uint64 available = 2;
  uint64 used = 3;
  double used_percent = 4;
  uint64 free = 5;
}

message DiskUsageStat {
  string path = 1;
  string fstype = 2;
  uint64 total = 3;
  uint64 free = 4;
  uint64 used = 5;
  double used_percent = 6;
  uint64 inodes_total = 7;
  uint64 inodes_used = 8;
  uint64 inodes_free = 9;
  double inodes_used_percent = 10;
}

message Battery {
  double current_capacity = 1;
  double full_charged_capacity = 2;
  string state = 3;
}

message SysInfo {
  HostInfoStat host = 1;
  repeated CPUInfoStat cpu = 2;
  repeated double cpu_usage = 3;
  VirtualMemoryStat memory = 4;
  DiskUsageStat disk = 5;
  repeated Battery battery = 6;
}

